<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RMAME - Complete Control Panel</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial; background: #0f172a; color: white; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }

        /* Tabs */
        .tabs { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
        .tab { background: #334155; padding: 15px 25px; border-radius: 10px; cursor: pointer; }
        .tab.active { background: #FF6B35; }

        /* Tab Content */
        .tab-content { display: none; background: #1e293b; padding: 25px; border-radius: 15px; margin-bottom: 20px; }
        .tab-content.active { display: block; }

        /* Form Elements */
        .form-group { margin-bottom: 20px; }
        label { display: block; color: #94a3b8; margin-bottom: 8px; font-size: 14px; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #334155; background: #0f172a; color: white; border-radius: 8px; }
        .form-row { display: flex; gap: 15px; }
        .form-row > * { flex: 1; }

        /* Cards */
        .section-card { background: #0f172a; padding: 20px; border-radius: 10px; margin-bottom: 25px; border: 1px solid #334155; }
        .section-title { color: #FF6B35; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #FF6B35; }

        /* Buttons */
        .btn { background: #FF6B35; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; margin: 5px; }
        .btn-success { background: #00B894; }
        .btn-primary { background: #0984E3; }
        .btn-warning { background: #FFD700; color: black; }
        .btn-danger { background: #FF4757; }

        /* JSON Output */
        .json-output { background: #0f172a; padding: 20px; border-radius: 10px; margin-top: 30px; display: none; }
        #json-text { font-family: monospace; height: 400px; background: #1a1a2e; color: #00E6A1; }

        /* Preview */
        .preview-box { background: #1e293b; padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid #334155; }

        /* Responsive */
        @media (max-width: 768px) {
            .form-row { flex-direction: column; }
            .tab { padding: 10px 15px; font-size: 14px; }
        }
        /* Top Prediction Specific Styles */
        input[type="color"] {
            width: 60px;
            height: 40px;
            padding: 2px;
            cursor: pointer;
        }

        #secondary-match {
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Form validation */
        input:valid, select:valid {
            border-color: #00B894;
        }

        input:invalid, select:invalid {
            border-color: #FF4757;
        }

        /* Auto-save indicator */
        .auto-save {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #00B894;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            display: none;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="text-align:center; color:#FF6B35; margin-bottom:30px;">üìä RMAME COMPLETE CONTROL PANEL</h1>

        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" onclick="switchTab('hero')">üèÜ Hero Section</div>
            <div class="tab" onclick="switchTab('top')">üéØ Top Prediction</div>
            <div class="tab" onclick="switchTab('today')">‚öΩ Today's Predictions</div>
            <div class="tab" onclick="switchTab('results')">üìä Yesterday's Results</div>
            <div class="tab" onclick="switchTab('generate')">üöÄ Generate JSON</div>
        </div>

        <!-- Hero Tab -->
        <div id="hero-tab" class="tab-content active">
            <div class="section-card">
                <h2 class="section-title">üèÜ Hero Section Configuration</h2>

                <div class="form-group">
                    <label>Hero Title:</label>
                    <input type="text" id="hero-title" value="103.12 ACCUMULATOR WON">
                </div>

                <div class="form-group">
                    <label>Hero Subtitle:</label>
                    <textarea id="hero-subtitle" rows="3">Perfect 3/3 predictions won yesterday! Mega accumulator with 103.12 total odds. Join our winning streak!</textarea>
                </div>

                <h3 style="color:#FF9E6D; margin:20px 0 15px 0;">üìä Hero Stats</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Stat 1 Value:</label>
                        <input type="text" id="stat1-value" value="3/3">
                    </div>
                    <div class="form-group">
                        <label>Stat 1 Label:</label>
                        <input type="text" id="stat1-label" value="Perfect Wins">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Stat 2 Value:</label>
                        <input type="text" id="stat2-value" value="103.12">
                    </div>
                    <div class="form-group">
                        <label>Stat 2 Label:</label>
                        <input type="text" id="stat2-label" value="Total Odds">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Stat 3 Value:</label>
                        <input type="text" id="stat3-value" value="34.37">
                    </div>
                    <div class="form-group">
                        <label>Stat 3 Label:</label>
                        <input type="text" id="stat3-label" value="Avg Odds">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Stat 4 Value:</label>
                        <input type="text" id="stat4-value" value="100%">
                    </div>
                    <div class="form-group">
                        <label>Stat 4 Label:</label>
                        <input type="text" id="stat4-label" value="Win Rate">
                    </div>
                </div>

                <h3 style="color:#FF9E6D; margin:20px 0 15px 0;">üéØ Hero Matches (3-match Accumulator)</h3>

                <!-- Match 1 -->
                <div class="preview-box">
                    <h4>Match 1</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Time:</label>
                            <input type="text" id="hero-match1-time" value="19:45">
                        </div>
                        <div class="form-group">
                            <label>Fixture:</label>
                            <input type="text" id="hero-match1-fixture" value="Fleetwood 1 ‚Äì 1 Salford city">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Bet Type:</label>
                            <input type="text" id="hero-match1-bet" value="Draw & BTTS">
                        </div>
                        <div class="form-group">
                            <label>Odds:</label>
                            <input type="number" step="0.01" id="hero-match1-odds" value="4.33">
                        </div>
                    </div>
                </div>

                <!-- Match 2 -->
                <div class="preview-box">
                    <h4>Match 2</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Time:</label>
                            <input type="text" id="hero-match2-time" value="20:00">
                        </div>
                        <div class="form-group">
                            <label>Fixture:</label>
                            <input type="text" id="hero-match2-fixture" value="Barrow 0 ‚Äì 3 Tranmere">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Bet Type:</label>
                            <input type="text" id="hero-match2-bet" value="Away & Over 2.5">
                        </div>
                        <div class="form-group">
                            <label>Odds:</label>
                            <input type="number" step="0.01" id="hero-match2-odds" value="4.33">
                        </div>
                    </div>
                </div>

                <!-- Match 3 -->
                <div class="preview-box">
                    <h4>Match 3</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Time:</label>
                            <input type="text" id="hero-match3-time" value="19:45">
                        </div>
                        <div class="form-group">
                            <label>Fixture:</label>
                            <input type="text" id="hero-match3-fixture" value="Notts Co 3 ‚Äì 2 MK Dons">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Bet Type:</label>
                            <input type="text" id="hero-match3-bet" value="Home & BTTS">
                        </div>
                        <div class="form-group">
                            <label>Odds:</label>
                            <input type="number" step="0.01" id="hero-match3-odds" value="5.50">
                        </div>
                    </div>
                </div>

                <button class="btn btn-success" onclick="saveHeroData()">üíæ Save Hero Data</button>
            </div>
        </div>

        <!-- Top Prediction Tab -->
        <div id="top-tab" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">üéØ Top Prediction Configuration</h2>

                <div class="form-group">
                    <label>Section Title:</label>
                    <input type="text" id="top-title" value="Top Prediction of the Day">
                </div>

                <div class="form-group">
                    <label>Section Subtitle:</label>
                    <input type="text" id="top-subtitle-input" value="Today's Premium Selection">
                </div>

                <div class="form-group">
                    <label>Badge Text:</label>
                    <input type="text" id="top-badge-input" value="PREMIUM PICK">
                </div>

                <h3 style="color:#FF9E6D; margin:20px 0 15px 0;">üèÜ Main Match</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label>League:</label>
                        <select id="top-league">
                            <option value="Champions League üá™üá∫">Champions League üá™üá∫</option>
                            <option value="Premier League üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø">Premier League üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø</option>
                            <option value="La Liga üá™üá∏">La Liga üá™üá∏</option>
                            <option value="Serie A üáÆüáπ">Serie A üáÆüáπ</option>
                            <option value="Bundesliga üá©üá™">Bundesliga üá©üá™</option>
                            <option value="Ligue 1 üá´üá∑">Ligue 1 üá´üá∑</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Time:</label>
                        <input type="text" id="top-time" value="20:45">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Team 1 Name:</label>
                        <input type="text" id="top-team1" placeholder="e.g., Real Madrid">
                    </div>
                    <div class="form-group">
                        <label>Team 1 Color:</label>
                        <input type="color" id="top-team1-color" value="#DC052D">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Team 2 Name:</label>
                        <input type="text" id="top-team2" placeholder="e.g., PSG">
                    </div>
                    <div class="form-group">
                        <label>Team 2 Color:</label>
                        <input type="color" id="top-team2-color" value="#004170">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Prediction:</label>
                        <select id="top-prediction">
                            <option value="1 & Under 3.5 Goals">1 & Under 3.5 Goals</option>
                            <option value="1X (Double Chance)">1X (Double Chance)</option>
                            <option value="BTTS Yes">BTTS Yes</option>
                            <option value="Over 2.5 Goals">Over 2.5 Goals</option>
                            <option value="Home Win (1)">Home Win (1)</option>
                            <option value="Away Win (2)">Away Win (2)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Odds:</label>
                        <input type="number" step="0.01" id="top-odds" value="2.50">
                    </div>
                </div>

                <div class="form-group">
                    <label>Confidence %:</label>
                    <input type="number" id="top-confidence" value="75" min="1" max="100">
                </div>

                <h3 style="color:#FF9E6D; margin:20px 0 15px 0;">üìä Optional: Secondary Match</h3>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="include-secondary" onchange="toggleSecondary()">
                        Include Secondary Match for Accumulator
                    </label>
                </div>

                <div id="secondary-match" style="display:none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label>League:</label>
                            <input type="text" id="sec-league" placeholder="Champions League üá™üá∫">
                        </div>
                        <div class="form-group">
                            <label>Time:</label>
                            <input type="text" id="sec-time" placeholder="23:00">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Team 1:</label>
                            <input type="text" id="sec-team1" placeholder="Monaco">
                        </div>
                        <div class="form-group">
                            <label>Team 2:</label>
                            <input type="text" id="sec-team2" placeholder="Galatasaray">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Prediction:</label>
                            <input type="text" id="sec-prediction" placeholder="Away Win (2)">
                        </div>
                        <div class="form-group">
                            <label>Odds:</label>
                            <input type="number" step="0.01" id="sec-odds" value="3.10">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Confidence %:</label>
                        <input type="number" id="sec-confidence" value="45" min="1" max="100">
                    </div>
                </div>

                <button class="btn btn-success" onclick="saveTopData()">üíæ Save Top Prediction</button>
                <button class="btn btn-primary" onclick="loadTopSample()">üìä Load Sample</button>
            </div>
        </div>

        <!-- Today's Predictions Tab -->
        <div id="today-tab" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">‚öΩ Today's Predictions</h2>

                <div class="form-group">
                    <label>Section Title:</label>
                    <input type="text" id="today-title" value="Today's Premium Picks">
                </div>

                <div class="form-group">
                    <label>Subtitle:</label>
                    <input type="text" id="today-subtitle" value="12 Premium Picks with 163.9 Total Odds">
                </div>

                <div id="today-predictions-container">
                    <!-- Predictions will be added here -->
                </div>

                <button class="btn btn-primary" onclick="addTodayPrediction()">‚ûï Add Prediction</button>
                <button class="btn btn-success" onclick="saveTodayData()">üíæ Save Today's Predictions</button>
            </div>
        </div>

        <!-- Results Tab -->
        <div id="results-tab" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">üìä Yesterday's Results</h2>

                <div class="form-group">
                    <label>Total Predictions:</label>
                    <input type="number" id="results-total" value="12">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Wins:</label>
                        <input type="number" id="results-wins" value="10">
                    </div>
                    <div class="form-group">
                        <label>Losses:</label>
                        <input type="number" id="results-losses" value="2">
                    </div>
                </div>

                <div id="results-container">
                    <!-- Results will be added here -->
                </div>

                <button class="btn btn-primary" onclick="addResult()">‚ûï Add Result</button>
                <button class="btn btn-success" onclick="saveResultsData()">üíæ Save Results</button>
            </div>
        </div>

        <!-- Generate JSON Tab -->
        <div id="generate-tab" class="tab-content">
            <div class="section-card">
                <h2 class="section-title">üöÄ Generate Complete JSON</h2>

                <p>This will create ONE JSON file that updates your entire website instantly!</p>

                <div class="form-group">
                    <label>Update Date:</label>
                    <input type="datetime-local" id="update-date">
                </div>

                <button class="btn btn-warning" onclick="loadCurrentData()">üì• Load Current Data</button>
                <button class="btn btn-success" onclick="generateCompleteJSON()" style="background:#00B894;">üéØ GENERATE COMPLETE JSON</button>

                <div id="json-output" class="json-output">
                    <h3>üìã COMPLETE JSON OUTPUT:</h3>
                    <textarea id="json-text" readonly></textarea>

                    <div style="margin-top:20px;">
                        <button class="btn" onclick="copyCompleteJSON()">üìã Copy JSON</button>
                        <button class="btn btn-primary" onclick="openGitHub()">üîó Open GitHub</button>
                        <button class="btn btn-warning" onclick="testJSON()">üß™ Test JSON</button>
                    </div>

                    <div style="margin-top:20px; padding:15px; background:rgba(255,107,53,0.1); border-radius:8px;">
                        <h4 style="color:#FF6B35;">üìù How to Update:</h4>
                        <ol style="margin-top:10px; padding-left:20px;">
                            <li>Click "Copy JSON" above</li>
                            <li>Go to: <a href="https://github.com/mamecholeye-lab/mamecholeye/edit/main/data.json" style="color:#FF6B35;" target="_blank">data.json on GitHub</a></li>
                            <li>Delete all content</li>
                            <li>Paste the new JSON</li>
                            <li>Click "Commit changes"</li>
                            <li>Wait 2 minutes - your website updates automatically!</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div style="text-align:center; margin-top:40px; padding-top:20px; border-top:1px solid #334155;">
            <button class="btn" onclick="switchTab('generate')" style="background:#FF6B35; font-size:18px; padding:15px 40px;">
                üöÄ GO TO GENERATE JSON
            </button>
            <p style="margin-top:15px; color:#94a3b8;">Update everything ‚Üí Generate one JSON ‚Üí Update website instantly!</p>
        </div>
    </div>

    <script>
        // ===== INITIALIZATION =====
        let todayPredictionCount = 0;
        let resultCount = 0;

        // Initialize when page loads
        window.onload = function() {
            console.log('RMAME Control Panel initialized');
            
            // Set default date
            const now = new Date();
            document.getElementById('update-date').value = now.toISOString().slice(0, 16);
            
            // Add some initial predictions
            addTodayPrediction();
            addResult();
            
            // Load sample top prediction after a short delay
            setTimeout(() => {
                loadTopSample();
                saveTopData();
            }, 500);
            
            // Try to load current data from GitHub
            setTimeout(() => {
                loadCurrentData();
            }, 1000);
        };

        // ===== TAB FUNCTIONS =====
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active from all tab buttons
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').classList.add('active');
            
            // Activate tab button
            document.querySelectorAll('.tab').forEach(tab => {
                if (tab.textContent.includes(tabName.charAt(0).toUpperCase() + tabName.slice(1))) {
                    tab.classList.add('active');
                }
            });
        }

        // ===== HERO DATA FUNCTIONS =====
        function saveHeroData() {
            const heroData = {
                title: document.getElementById('hero-title').value,
                subtitle: document.getElementById('hero-subtitle').value,
                stats: [
                    { 
                        value: document.getElementById('stat1-value').value, 
                        label: document.getElementById('stat1-label').value 
                    },
                    { 
                        value: document.getElementById('stat2-value').value, 
                        label: document.getElementById('stat2-label').value 
                    },
                    { 
                        value: document.getElementById('stat3-value').value, 
                        label: document.getElementById('stat3-label').value 
                    },
                    { 
                        value: document.getElementById('stat4-value').value, 
                        label: document.getElementById('stat4-label').value 
                    }
                ],
                matches: [
                    {
                        time: document.getElementById('hero-match1-time').value,
                        fixture: document.getElementById('hero-match1-fixture').value,
                        betType: document.getElementById('hero-match1-bet').value,
                        odds: parseFloat(document.getElementById('hero-match1-odds').value) || 0
                    },
                    {
                        time: document.getElementById('hero-match2-time').value,
                        fixture: document.getElementById('hero-match2-fixture').value,
                        betType: document.getElementById('hero-match2-bet').value,
                        odds: parseFloat(document.getElementById('hero-match2-odds').value) || 0
                    },
                    {
                        time: document.getElementById('hero-match3-time').value,
                        fixture: document.getElementById('hero-match3-fixture').value,
                        betType: document.getElementById('hero-match3-bet').value,
                        odds: parseFloat(document.getElementById('hero-match3-odds').value) || 0
                    }
                ]
            };

            localStorage.setItem('heroData', JSON.stringify(heroData));
            showAlert('‚úÖ Hero data saved locally!');
        }

        // ===== TODAY'S PREDICTIONS FUNCTIONS =====
        function addTodayPrediction() {
            todayPredictionCount++;
            const container = document.getElementById('today-predictions-container');

            const predictionHTML = `
                <div class="preview-box" id="today-prediction-${todayPredictionCount}">
                    <h4>Prediction ${todayPredictionCount}</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>League:</label>
                            <input type="text" class="today-league" placeholder="English Championship üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø">
                        </div>
                        <div class="form-group">
                            <label>Time:</label>
                            <input type="text" class="today-time" placeholder="20:45">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Team 1:</label>
                            <input type="text" class="today-team1" placeholder="Stevenage">
                        </div>
                        <div class="form-group">
                            <label>Team 2:</label>
                            <input type="text" class="today-team2" placeholder="Cardiff">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Prediction:</label>
                            <input type="text" class="today-prediction" placeholder="1X (Double Chance)">
                        </div>
                        <div class="form-group">
                            <label>Odds:</label>
                            <input type="number" step="0.01" class="today-odds" placeholder="1.41">
                        </div>
                        <div class="form-group">
                            <label>Confidence %:</label>
                            <input type="number" class="today-confidence" value="70" min="1" max="100">
                        </div>
                    </div>
                    <button class="btn btn-danger" onclick="removeTodayPrediction(${todayPredictionCount})" style="padding:5px 10px; font-size:12px;">Remove</button>
                </div>
            `;

            container.insertAdjacentHTML('beforeend', predictionHTML);
        }

        function removeTodayPrediction(id) {
            const element = document.getElementById(`today-prediction-${id}`);
            if (element) element.remove();
        }

        function saveTodayData() {
            const predictions = [];
            const predictionElements = document.querySelectorAll('[id^="today-prediction-"]');

            predictionElements.forEach(element => {
                const league = element.querySelector('.today-league').value;
                const time = element.querySelector('.today-time').value;
                const team1 = element.querySelector('.today-team1').value;
                const team2 = element.querySelector('.today-team2').value;
                const prediction = element.querySelector('.today-prediction').value;
                const odds = parseFloat(element.querySelector('.today-odds').value) || 0;
                const confidence = parseInt(element.querySelector('.today-confidence').value) || 70;

                if (team1 && team2) {
                    predictions.push({
                        league: league || "English Championship üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø",
                        time: time || "20:45",
                        team1: team1,
                        team2: team2,
                        prediction: prediction || "1X (Double Chance)",
                        odds: odds || 1.41,
                        confidence: confidence
                    });
                }
            });

            const todayData = {
                title: document.getElementById('today-title').value || "Today's Premium Picks",
                subtitle: document.getElementById('today-subtitle').value || "Premium Picks",
                predictions: predictions
            };

            localStorage.setItem('todayData', JSON.stringify(todayData));
            showAlert(`‚úÖ Saved ${predictions.length} predictions!`);
        }

        // ===== RESULTS FUNCTIONS =====
        function addResult() {
            resultCount++;
            const container = document.getElementById('results-container');

            const resultHTML = `
                <div class="preview-box" id="result-${resultCount}">
                    <h4>Result ${resultCount}</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Fixture:</label>
                            <input type="text" class="result-fixture" placeholder="Stevenage v Cardiff">
                        </div>
                        <div class="form-group">
                            <label>League:</label>
                            <input type="text" class="result-league" placeholder="English Championship">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Bet Type:</label>
                            <input type="text" class="result-bet" placeholder="1X (Double Chance)">
                        </div>
                        <div class="form-group">
                            <label>Odds:</label>
                            <input type="number" step="0.01" class="result-odds" placeholder="1.41">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Result Score:</label>
                            <input type="text" class="result-score" placeholder="0-1">
                        </div>
                        <div class="form-group">
                            <label>Outcome:</label>
                            <select class="result-outcome">
                                <option value="won">‚úÖ Won</option>
                                <option value="lost">‚ùå Lost</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn btn-danger" onclick="removeResult(${resultCount})" style="padding:5px 10px; font-size:12px;">Remove</button>
                </div>
            `;

            container.insertAdjacentHTML('beforeend', resultHTML);
        }

        function removeResult(id) {
            const element = document.getElementById(`result-${id}`);
            if (element) element.remove();
        }

        function saveResultsData() {
            const results = [];
            const resultElements = document.querySelectorAll('[id^="result-"]');

            resultElements.forEach(element => {
                const fixture = element.querySelector('.result-fixture').value;
                const league = element.querySelector('.result-league').value;
                const betType = element.querySelector('.result-bet').value;
                const odds = parseFloat(element.querySelector('.result-odds').value) || 0;
                const resultScore = element.querySelector('.result-score').value;
                const outcome = element.querySelector('.result-outcome').value;

                if (fixture && resultScore) {
                    results.push({
                        fixture: fixture,
                        league: league || "League",
                        betType: betType,
                        odds: odds,
                        result: resultScore,
                        outcome: outcome
                    });
                }
            });

            const resultsData = {
                total: parseInt(document.getElementById('results-total').value) || 0,
                wins: parseInt(document.getElementById('results-wins').value) || 0,
                losses: parseInt(document.getElementById('results-losses').value) || 0,
                results: results
            };

            localStorage.setItem('resultsData', JSON.stringify(resultsData));
            showAlert(`‚úÖ Saved ${results.length} results!`);
        }

        // ===== TOP PREDICTION FUNCTIONS =====
        function toggleSecondary() {
            const secondaryDiv = document.getElementById('secondary-match');
            const checkbox = document.getElementById('include-secondary');
            secondaryDiv.style.display = checkbox.checked ? 'block' : 'none';
        }

        function saveTopData() {
            const team1Name = document.getElementById('top-team1').value || "Team 1";
            const team2Name = document.getElementById('top-team2').value || "Team 2";
            
            const topData = {
                title: document.getElementById('top-title').value || "Top Prediction of the Day",
                subtitle: document.getElementById('top-subtitle-input').value || "Today's Premium Selection",
                badge: document.getElementById('top-badge-input').value || "PREMIUM PICK",
                mainMatch: {
                    league: document.getElementById('top-league').value || "Champions League üá™üá∫",
                    time: document.getElementById('top-time').value || "21:00",
                    team1: {
                        name: team1Name,
                        code: team1Name.substring(0, 3).toUpperCase(),
                        color: document.getElementById('top-team1-color').value || "#DC052D"
                    },
                    team2: {
                        name: team2Name,
                        code: team2Name.substring(0, 3).toUpperCase(),
                        color: document.getElementById('top-team2-color').value || "#004170"
                    },
                    prediction: document.getElementById('top-prediction').value || "1X (Double Chance)",
                    odds: parseFloat(document.getElementById('top-odds').value) || 2.50,
                    confidence: parseInt(document.getElementById('top-confidence').value) || 70,
                    riskLevel: getRiskLevel(parseInt(document.getElementById('top-confidence').value) || 70)
                }
            };

            // Add secondary match if enabled
            const includeSecondary = document.getElementById('include-secondary').checked;
            const secTeam1 = document.getElementById('sec-team1').value;
            const secTeam2 = document.getElementById('sec-team2').value;
            
            if (includeSecondary && secTeam1 && secTeam2) {
                topData.secondaryMatch = {
                    league: document.getElementById('sec-league').value || "Champions League üá™üá∫",
                    time: document.getElementById('sec-time').value || "23:00",
                    team1: {
                        name: secTeam1,
                        code: secTeam1.substring(0, 3).toUpperCase(),
                        color: "#F0202A"
                    },
                    team2: {
                        name: secTeam2,
                        code: secTeam2.substring(0, 3).toUpperCase(),
                        color: "#F9A01B"
                    },
                    prediction: document.getElementById('sec-prediction').value || "Away Win (2)",
                    odds: parseFloat(document.getElementById('sec-odds').value) || 3.10,
                    confidence: parseInt(document.getElementById('sec-confidence').value) || 45,
                    riskLevel: getRiskLevel(parseInt(document.getElementById('sec-confidence').value) || 45)
                };

                // Add accumulator
                const totalOdds = (topData.mainMatch.odds * topData.secondaryMatch.odds).toFixed(2);
                topData.accumulator = {
                    totalOdds: totalOdds,
                    matches: [
                        {
                            match: `${topData.mainMatch.team1.name} vs ${topData.mainMatch.team2.name} (${topData.mainMatch.prediction})`,
                            odds: topData.mainMatch.odds
                        },
                        {
                            match: `${topData.secondaryMatch.team1.name} vs ${topData.secondaryMatch.team2.name} (${topData.secondaryMatch.prediction})`,
                            odds: topData.secondaryMatch.odds
                        }
                    ],
                    winningExamples: [
                        {stake: 20, win: (20 * totalOdds).toFixed(2)},
                        {stake: 50, win: (50 * totalOdds).toFixed(2)},
                        {stake: 100, win: (100 * totalOdds).toFixed(2)}
                    ],
                    tip: "Double accumulator offers good value. Recommended stake: 1-2% of bankroll.",
                    warning: "Higher risk due to away win pick"
                };
            }

            localStorage.setItem('topData', JSON.stringify(topData));
            
            let message = `‚úÖ Top prediction saved!\n\n‚Ä¢ ${topData.mainMatch.team1.name} vs ${topData.mainMatch.team2.name}\n‚Ä¢ ${topData.mainMatch.prediction} @${topData.mainMatch.odds}\n‚Ä¢ ${topData.mainMatch.confidence}% confidence`;
            
            if (includeSecondary) {
                message += `\n‚Ä¢ Includes accumulator @${topData.accumulator.totalOdds}`;
            }
            
            showAlert(message);
        }

        function loadTopSample() {
            document.getElementById('top-title').value = 'Top Prediction of the Day';
            document.getElementById('top-subtitle-input').value = 'December 12, 2025 - Champions League Special';
            document.getElementById('top-badge-input').value = 'CHAMPIONS LEAGUE SPECIAL';
            document.getElementById('top-league').value = 'Champions League üá™üá∫';
            document.getElementById('top-time').value = '21:00';
            document.getElementById('top-team1').value = 'Real Madrid';
            document.getElementById('top-team1-color').value = '#FFFFFF';
            document.getElementById('top-team2').value = 'PSG';
            document.getElementById('top-team2-color').value = '#004170';
            document.getElementById('top-prediction').value = '1 & Over 2.5 Goals';
            document.getElementById('top-odds').value = 2.80;
            document.getElementById('top-confidence').value = 75;
        }

        function getRiskLevel(confidence) {
            if (confidence >= 80) return 'LOW RISK';
            if (confidence >= 60) return 'MEDIUM RISK';
            return 'HIGH RISK';
        }

        // ===== JSON GENERATION FUNCTIONS =====
        async function loadCurrentData() {
            try {
                const response = await fetch('https://raw.githubusercontent.com/mamecholeye-lab/mamecholeye/main/data.json');
                const data = await response.json();

                if (data.hero) {
                    document.getElementById('hero-title').value = data.hero.title || '';
                    document.getElementById('hero-subtitle').value = data.hero.subtitle || '';
                    
                    if (data.hero.stats && data.hero.stats.length >= 4) {
                        document.getElementById('stat1-value').value = data.hero.stats[0].value || '';
                        document.getElementById('stat1-label').value = data.hero.stats[0].label || '';
                        document.getElementById('stat2-value').value = data.hero.stats[1].value || '';
                        document.getElementById('stat2-label').value = data.hero.stats[1].label || '';
                        document.getElementById('stat3-value').value = data.hero.stats[2].value || '';
                        document.getElementById('stat3-label').value = data.hero.stats[2].label || '';
                        document.getElementById('stat4-value').value = data.hero.stats[3].value || '';
                        document.getElementById('stat4-label').value = data.hero.stats[3].label || '';
                    }
                    
                    if (data.hero.results && data.hero.results.length >= 3) {
                        document.getElementById('hero-match1-time').value = data.hero.results[0].time || '';
                        document.getElementById('hero-match1-fixture').value = data.hero.results[0].fixture || '';
                        document.getElementById('hero-match1-bet').value = data.hero.results[0].betType || '';
                        document.getElementById('hero-match1-odds').value = data.hero.results[0].odds || '';
                        
                        document.getElementById('hero-match2-time').value = data.hero.results[1].time || '';
                        document.getElementById('hero-match2-fixture').value = data.hero.results[1].fixture || '';
                        document.getElementById('hero-match2-bet').value = data.hero.results[1].betType || '';
                        document.getElementById('hero-match2-odds').value = data.hero.results[1].odds || '';
                        
                        document.getElementById('hero-match3-time').value = data.hero.results[2].time || '';
                        document.getElementById('hero-match3-fixture').value = data.hero.results[2].fixture || '';
                        document.getElementById('hero-match3-bet').value = data.hero.results[2].betType || '';
                        document.getElementById('hero-match3-odds').value = data.hero.results[2].odds || '';
                    }
                }

                // Set update date
                const updateDate = data.lastUpdated || new Date().toISOString();
                document.getElementById('update-date').value = updateDate.slice(0, 16);

                showAlert('‚úÖ Current data loaded successfully!\n\nNow you can generate updated JSON.');

            } catch (error) {
                console.error('Error loading data:', error);
                showAlert('‚ö†Ô∏è Could not load current data. Starting with defaults.');
            }
        }

        function generateCompleteJSON() {
            // Get data from localStorage or defaults
            const heroData = JSON.parse(localStorage.getItem('heroData')) || getDefaultHeroData();
            const topData = JSON.parse(localStorage.getItem('topData')) || getDefaultTopData();
            const todayData = JSON.parse(localStorage.getItem('todayData')) || getDefaultTodayData();
            const resultsData = JSON.parse(localStorage.getItem('resultsData')) || getDefaultResultsData();

            // Calculate statistics
            const totalPredictions = todayData.predictions.length;
            const totalOdds = todayData.predictions.reduce((total, pred) => total * (pred.odds || 1), 1).toFixed(2);
            const winRate = resultsData.total > 0 ? 
                ((resultsData.wins / resultsData.total) * 100).toFixed(1) + '%' : '0%';

            // Generate today's date
            const today = new Date();
            const formattedDate = today.toLocaleDateString('en-US', { 
                month: 'long', 
                day: 'numeric', 
                year: 'numeric' 
            });

            // Generate complete data structure
            const completeData = {
                lastUpdated: document.getElementById('update-date').value || today.toISOString(),
                hero: {
                    date: formattedDate,
                    title: heroData.title || "ACCUMULATOR WON",
                    subtitle: heroData.subtitle || "",
                    stats: heroData.stats || [],
                    results: (heroData.matches || []).map((match, index) => ({
                        time: match.time,
                        league: "League",
                        fixture: match.fixture,
                        betType: match.betType,
                        betColor: index === 0 ? "#FFD700" : index === 1 ? "#00B894" : "#FF6B35",
                        odds: match.odds,
                        status: "won"
                    })),
                    calculations: {
                        totalOdds: 103.12,
                        winningExamples: [
                            {stake: 10, win: 1031.20},
                            {stake: 50, win: 5156.00},
                            {stake: 100, win: 10312.00}
                        ],
                        profitNote: "3-match accumulator = 10,312% PROFIT!"
                    }
                },
                topPrediction: {
                    date: formattedDate,
                    subtitle: topData.subtitle || "Today's Premium Selection",
                    badge: topData.badge || "PREMIUM PICK",
                    mainMatch: topData.mainMatch
                },
                todayPredictions: {
                    subtitle: `${formattedDate} - ${totalPredictions} Premium Picks with ${totalOdds} Total Odds`,
                    totalPredictions: totalPredictions,
                    totalOdds: totalOdds,
                    predictions: todayData.predictions.map(pred => ({
                        league: pred.league,
                        time: pred.time,
                        fixture: `${pred.team1} v ${pred.team2}`,
                        team1: {
                            name: pred.team1,
                            code: pred.team1.substring(0,3).toUpperCase(),
                            color: getTeamColor(pred.team1)
                        },
                        team2: {
                            name: pred.team2,
                            code: pred.team2.substring(0,3).toUpperCase(),
                            color: getTeamColor(pred.team2)
                        },
                        prediction: pred.prediction,
                        odds: pred.odds,
                        confidence: pred.confidence
                    })),
                    winningExamples: [
                        {stake: 10, win: (10 * totalOdds).toFixed(2)},
                        {stake: 50, win: (50 * totalOdds).toFixed(2)},
                        {stake: 100, win: (100 * totalOdds).toFixed(2)}
                    ]
                },
                yesterdayResults: {
                    subtitle: `${resultsData.wins} Wins out of ${resultsData.total} Predictions`,
                    stats: {
                        record: `${resultsData.wins}-0-${resultsData.losses}`,
                        winRate: winRate,
                        wins: resultsData.wins,
                        total: resultsData.total,
                        totalOdds: resultsData.results.reduce((total, result) => total * (result.odds || 1), 1).toFixed(2),
                        status: resultsData.wins > resultsData.losses ? "Good" : "Poor",
                        losses: resultsData.losses
                    },
                    analysis: `Performance with ${resultsData.wins} wins out of ${resultsData.total} predictions (${winRate} accuracy).`,
                    insight: "Focus on high confidence predictions for better results.",
                    results: resultsData.results || []
                }
            };

            // Add secondary match if exists
            if (topData.secondaryMatch) {
                completeData.topPrediction.secondaryMatch = topData.secondaryMatch;
            }

            // Add accumulator if exists
            if (topData.accumulator) {
                completeData.topPrediction.accumulator = topData.accumulator;
            }

            // Display JSON
            document.getElementById('json-text').value = JSON.stringify(completeData, null, 2);
            document.getElementById('json-output').style.display = 'block';

            // Scroll to output
            setTimeout(() => {
                document.getElementById('json-output').scrollIntoView({ behavior: 'smooth' });
            }, 100);

            showAlert(`‚úÖ Complete JSON generated!\n\n‚Ä¢ Hero: 3 matches\n‚Ä¢ Top: ${topData.mainMatch.team1.name} vs ${topData.mainMatch.team2.name}\n‚Ä¢ Today: ${totalPredictions} predictions\n‚Ä¢ Results: ${resultsData.results.length} matches`);
        }

        // ===== UTILITY FUNCTIONS =====
        function getDefaultHeroData() {
            return {
                title: "103.12 ACCUMULATOR WON",
                subtitle: "Perfect 3/3 predictions won yesterday! Mega accumulator with 103.12 total odds. Join our winning streak!",
                stats: [
                    {value: "3/3", label: "Perfect Wins"},
                    {value: "103.12", label: "Total Odds"},
                    {value: "34.37", label: "Avg Odds"},
                    {value: "100%", label: "Win Rate"}
                ],
                matches: [
                    {
                        time: "19:45",
                        fixture: "Fleetwood 1 ‚Äì 1 Salford city",
                        betType: "Draw & BTTS",
                        odds: 4.33
                    },
                    {
                        time: "20:00",
                        fixture: "Barrow 0 ‚Äì 3 Tranmere",
                        betType: "Away & Over 2.5",
                        odds: 4.33
                    },
                    {
                        time: "19:45",
                        fixture: "Notts Co 3 ‚Äì 2 MK Dons",
                        betType: "Home & BTTS",
                        odds: 5.50
                    }
                ]
            };
        }

        function getDefaultTopData() {
            return {
                subtitle: "Today's Premium Selection",
                badge: "PREMIUM PICK",
                mainMatch: {
                    league: "Champions League üá™üá∫",
                    time: "21:00",
                    team1: {
                        name: "Real Madrid",
                        code: "RMA",
                        color: "#FFFFFF"
                    },
                    team2: {
                        name: "PSG",
                        code: "PSG",
                        color: "#004170"
                    },
                    prediction: "1 & Over 2.5 Goals",
                    odds: 2.80,
                    confidence: 75,
                    riskLevel: "MEDIUM RISK"
                }
            };
        }

        function getDefaultTodayData() {
            return {
                title: "Today's Premium Picks",
                subtitle: "12 Premium Picks with 163.9 Total Odds",
                predictions: [
                    {
                        league: "English Championship üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø",
                        time: "20:45",
                        team1: "Stevenage",
                        team2: "Cardiff",
                        prediction: "1X (Double Chance)",
                        odds: 1.41,
                        confidence: 75
                    }
                ]
            };
        }

        function getDefaultResultsData() {
            return {
                total: 12,
                wins: 10,
                losses: 2,
                results: [
                    {
                        fixture: "Stevenage v Cardiff",
                        league: "English Championship üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø",
                        betType: "Double Chance: 1X",
                        odds: 1.41,
                        result: "0-1",
                        outcome: "lost"
                    }
                ]
            };
        }

        function getTeamColor(teamName) {
            const colorMap = {
                'real madrid': '#FFFFFF',
                'barcelona': '#A50044',
                'man city': '#6CABDD',
                'man united': '#DA291C',
                'liverpool': '#C8102E',
                'chelsea': '#034694',
                'arsenal': '#EF0107',
                'psg': '#004170',
                'bayern': '#DC052D',
                'dortmund': '#FDE100',
                'juventus': '#000000',
                'milan': '#000000',
                'inter': '#0066B3',
                'atletico': '#CB3524',
                'monaco': '#F0202A',
                'galatasaray': '#F9A01B',
                'stevenage': '#DA291C',
                'cardiff': '#1C4A9A',
                'atalanta': '#0000FF',
                'penybont': '#FF0000',
                'barry town': '#0000FF'
            };
            
            const key = teamName.toLowerCase();
            return colorMap[key] || '#FF6B35';
        }

        function copyCompleteJSON() {
            const jsonText = document.getElementById('json-text');
            jsonText.select();
            jsonText.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(jsonText.value)
                .then(() => showAlert('‚úÖ JSON copied to clipboard!\n\nNow go to GitHub and paste it.'))
                .catch(() => {
                    jsonText.select();
                    document.execCommand('copy');
                    showAlert('‚úÖ JSON copied!\n\nNow go to GitHub and paste it.');
                });
        }

        function openGitHub() {
            window.open('https://github.com/mamecholeye-lab/mamecholeye/edit/main/data.json', '_blank');
        }

        function testJSON() {
            try {
                const jsonText = document.getElementById('json-text').value;
                JSON.parse(jsonText);
                showAlert('‚úÖ JSON is valid! Ready to upload.');
            } catch (error) {
                showAlert('‚ùå JSON is invalid: ' + error.message);
            }
        }

        function showAlert(message) {
            alert(message);
        }
    </script>
</body>
</html>